---
title: "字符串哈希与Rabin-Karp算法"
date: 2025-10-30
tags: ["算法","哈希","字符串","子串搜索","Rabin-Karp算法"]
categories: ["算法原理"]
draft: false
math: true
---

## 字符串哈希

哈希，不严谨的说就是一种将任意长度明文加密为一个固定长度的密文或值的算法。  
对于字符串的哈希算法，则是将一个字符串映射为一个固定长度的整数值，通过比对哈希值来判断两个字符串是否相等。  

### 字符串哈希的基本思想

字符串哈希的实现是将字符串视为一个base进制数，然后对其取模得到哈希值。  
对于一个长度为n的字符串 $S=s_0s_1...s_{n-1}$，其哈希值可以表示为：

$$
h(S)=\sum_{i=0}^{n-1}s_i\times base^{n-1-i}\mod M
$$

其中，
- $base$ 是哈希函数的进制基数，通常取素数，如 233 ，131 ，101 等。
- $M$ 是大质数模数，用于防止哈希冲突。
- $s_i$ 是字符串 $S$ 的第 $i$ 个字符的 ASCII 码值。

#### 数学原理

字符串可表示为多项式 $f(x)=s_0x^{n-1}+s_1x^{n-2}+...+s_{n-1}x^0$ ，其哈希值为 $f(base)\mod M$ 。

#### 降低哈希冲突风险-双值哈希

为减少哈希冲突，可以采用多值哈希，其中比较常用的是**双值哈希**，即

$$
H_1(S)=f(base_1)\mod M_1\newline
H_2(S)=f(base_2)\mod M_2
$$

最终哈希值为二元组 $(H_1(S),H_2(S))$ 。

## 字符串哈希在子串搜索中的应用——Rabin-Karp算法

>核心思想：滚动哈希（Rolling Hash）
>滚动哈希可以在 $O(1)$ 的时间内计算出子串的哈希值。

### 数学过程

